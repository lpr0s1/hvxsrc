<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Oracle-X | Signaux de Trading IA en Temps Réel - BTC, ETH, Gold, Forex</title>
    <meta name="description" content="Oracle-X fournit des signaux de trading haute précision pour Bitcoin, Ethereum, Or et EUR/USD. Algorithme d'analyse technique en temps réel pour optimiser vos positions MT4/MT5.">
    <meta name="keywords" content="trading signals, crypto signals, forex strategy, gold trading, bitcoin analysis, ethereum signals, MT4, MT5">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Lightweight Charts (TradingView alternative for performance) -->
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f8fafc; }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .signal-buy { color: #10b981; text-shadow: 0 0 10px rgba(16, 185, 129, 0.4); }
        .signal-sell { color: #ef4444; text-shadow: 0 0 10px rgba(239, 68, 68, 0.4); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        /* Mobile adjustment */
        @media (max-width: 640px) { .chart-container { height: 250px; } }
    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 glass-card px-4 py-3 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="bg-indigo-600 p-1.5 rounded-lg">
                <i data-lucide="trending-up" class="text-white w-6 h-6"></i>
            </div>
            <span class="text-xl font-bold tracking-tight">ORACLE<span class="text-indigo-500">-X</span></span>
        </div>
        <div class="flex items-center gap-4">
            <span id="connection-status" class="flex items-center gap-1.5 text-xs text-green-400">
                <span class="w-2 h-2 bg-green-500 rounded-full pulse"></span> Live
            </span>
            <button onclick="toggleSubscription()" class="bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-bold py-2 px-4 rounded-full transition-all">
                PREMIUM
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 pb-12 px-4 max-w-6xl mx-auto">
        
        <!-- MT4/MT5 Warning Banner -->
        <div class="mb-8 p-4 bg-amber-900/20 border border-amber-500/30 rounded-xl flex items-start gap-3">
            <i data-lucide="alert-triangle" class="text-amber-500 flex-shrink-0 mt-1"></i>
            <div>
                <p class="text-sm font-semibold text-amber-200">Recommandation Expérience</p>
                <p class="text-xs text-amber-100/80">Pour une exécution optimale, gardez votre application <strong>MetaTrader 4 (MT4)</strong> ou <strong>MT5</strong> ouverte en parallèle pour passer les ordres instantanément.</p>
            </div>
        </div>

        <!-- Asset Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            <!-- Asset Card: Bitcoin -->
            <div id="card-BTCUSDT" class="glass-card rounded-2xl p-5 overflow-hidden transition-all">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-3">
                        <div class="bg-orange-500/20 p-2 rounded-full"><i data-lucide="bitcoin" class="text-orange-500"></i></div>
                        <div>
                            <h2 class="font-bold">Bitcoin</h2>
                            <p class="text-xs text-slate-400">BTC / USDT</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div id="price-BTCUSDT" class="text-xl font-mono font-bold">---.---</div>
                        <div id="change-BTCUSDT" class="text-xs">--%</div>
                    </div>
                </div>

                <div id="chart-BTCUSDT" class="chart-container h-[200px] mb-4 rounded-lg bg-black/20"></div>

                <!-- Signal Area -->
                <div class="flex gap-3 mt-4">
                    <div class="flex-1 bg-slate-800/50 rounded-xl p-3 text-center border border-white/5">
                        <p class="text-[10px] uppercase text-slate-500 font-bold mb-1">Algorithme</p>
                        <div id="signal-text-BTCUSDT" class="text-sm font-bold uppercase tracking-widest text-slate-400">Analyse...</div>
                    </div>
                    <div class="flex-1 bg-slate-800/50 rounded-xl p-3 text-center border border-white/5">
                        <p class="text-[10px] uppercase text-slate-500 font-bold mb-1">RSI (14)</p>
                        <div id="rsi-BTCUSDT" class="text-sm font-bold font-mono text-indigo-400">--</div>
                    </div>
                </div>

                <div id="action-BTCUSDT" class="mt-4 hidden p-3 rounded-xl border flex items-center justify-between animate-bounce">
                    <div class="flex items-center gap-2">
                        <i data-lucide="zap" class="w-4 h-4"></i>
                        <span class="font-bold text-sm" id="action-label-BTCUSDT"></span>
                    </div>
                    <span class="text-xs opacity-80" id="tp-sl-BTCUSDT"></span>
                </div>
            </div>

            <!-- Asset Card: Ethereum -->
            <div id="card-ETHUSDT" class="glass-card rounded-2xl p-5 transition-all">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-3">
                        <div class="bg-indigo-500/20 p-2 rounded-full"><i data-lucide="coins" class="text-indigo-400"></i></div>
                        <div>
                            <h2 class="font-bold">Ethereum</h2>
                            <p class="text-xs text-slate-400">ETH / USDT</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div id="price-ETHUSDT" class="text-xl font-mono font-bold">---.---</div>
                        <div id="change-ETHUSDT" class="text-xs">--%</div>
                    </div>
                </div>
                <div id="chart-ETHUSDT" class="chart-container h-[200px] mb-4 rounded-lg bg-black/20"></div>
                <div class="flex gap-3">
                    <div class="flex-1 bg-slate-800/50 rounded-xl p-3 text-center"><div id="signal-text-ETHUSDT" class="text-sm font-bold uppercase text-slate-400">Analyse...</div></div>
                    <div class="flex-1 bg-slate-800/50 rounded-xl p-3 text-center"><div id="rsi-ETHUSDT" class="text-sm font-bold font-mono text-indigo-400">--</div></div>
                </div>
            </div>

            <!-- Asset Card: Gold (XAUUSD via Proxy simulation) -->
            <div id="card-XAUUSD" class="glass-card rounded-2xl p-5 opacity-60 relative group cursor-not-allowed">
                <div class="absolute inset-0 z-10 flex flex-col items-center justify-center bg-slate-900/80 rounded-2xl backdrop-blur-sm">
                    <i data-lucide="lock" class="w-8 h-8 text-indigo-400 mb-2"></i>
                    <p class="font-bold">Version Premium</p>
                    <p class="text-[10px] text-slate-400 px-8 text-center mt-1">L'analyse du XAU/USD et EUR/USD nécessite un abonnement actif.</p>
                </div>
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-3">
                        <div class="bg-yellow-500/20 p-2 rounded-full"><i data-lucide="award" class="text-yellow-500"></i></div>
                        <h2 class="font-bold">Gold</h2>
                    </div>
                    <div class="text-xl font-mono font-bold">$2,024.50</div>
                </div>
                <div class="h-[150px] bg-slate-800/50 rounded-lg"></div>
            </div>

            <!-- Asset Card: EUR/USD -->
            <div id="card-EURUSD" class="glass-card rounded-2xl p-5 opacity-60">
                <!-- Similar locked state for Monetization -->
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-3">
                        <div class="bg-blue-500/20 p-2 rounded-full"><i data-lucide="dollar-sign" class="text-blue-500"></i></div>
                        <h2 class="font-bold">EUR/USD</h2>
                    </div>
                    <div class="text-xl font-mono font-bold">1.0845</div>
                </div>
                <div class="h-[150px] bg-slate-800/50 rounded-lg"></div>
            </div>

        </div>

        <!-- Strategy Description SEO -->
        <section class="mt-12 text-slate-400 text-sm leading-relaxed">
            <h3 class="text-white font-bold mb-4 text-lg">Comment fonctionne l'algorithme Oracle-X ?</h3>
            <p class="mb-3">
                Contrairement aux simples indicateurs statiques, notre moteur d'analyse traite les données en temps réel via des flux WebSocket. Il combine l'**EMA 50 (Exponential Moving Average)** pour la tendance de fond, l'**EMA 20** pour la réactivité, et le **RSI 14** pour détecter les zones de surachat ou de survente.
            </p>
            <ul class="list-disc pl-5 space-y-2 mb-4">
                <li><strong>Achat (BUY) :</strong> Déclenché lorsque le RSI est inférieur à 35 et que le prix repasse au-dessus de l'EMA 20.</li>
                <li><strong>Vente (SELL) :</strong> Déclenché lorsque le RSI est supérieur à 65 et que le prix casse l'EMA 20 à la baisse.</li>
                <li><strong>Sortie (CLOSE) :</strong> Indiquée dès que le momentum s'essouffle ou qu'un objectif de Fibonacci est atteint.</li>
            </ul>
        </section>
    </main>

    <!-- Subscription Modal (Simulated) -->
    <div id="paywall" class="fixed inset-0 z-[100] hidden flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-md"></div>
        <div class="relative glass-card max-w-sm w-full p-8 rounded-3xl text-center">
            <h2 class="text-2xl font-bold mb-2">Passez au niveau Supérieur</h2>
            <p class="text-slate-400 text-sm mb-6">Accédez aux signaux Or (XAU), Forex (EUR/USD) et aux notifications Push instantanées.</p>
            <div class="space-y-4 mb-8">
                <div class="p-4 bg-indigo-600/20 border border-indigo-500 rounded-2xl cursor-pointer hover:bg-indigo-600/30">
                    <p class="text-xs uppercase font-bold tracking-widest mb-1">Mensuel</p>
                    <p class="text-2xl font-bold">49.99€ <span class="text-xs font-normal">/ mois</span></p>
                </div>
                <div class="p-4 bg-slate-800 border border-white/5 rounded-2xl cursor-pointer hover:bg-slate-700">
                    <p class="text-xs uppercase font-bold tracking-widest mb-1">Annuel</p>
                    <p class="text-2xl font-bold">399€ <span class="text-xs font-normal">/ an</span></p>
                </div>
            </div>
            <button class="w-full bg-white text-black font-bold py-4 rounded-2xl mb-4">Débloquer maintenant</button>
            <button onclick="toggleSubscription()" class="text-xs text-slate-500 underline uppercase">Plus tard</button>
        </div>
    </div>

    <!-- Footer Mobile Navigation -->
    <div class="fixed bottom-0 w-full glass-card border-t border-white/5 px-6 py-3 flex justify-around md:hidden">
        <button class="flex flex-col items-center gap-1 text-indigo-400">
            <i data-lucide="layout-grid" class="w-5 h-5"></i>
            <span class="text-[10px]">Marchés</span>
        </button>
        <button class="flex flex-col items-center gap-1 text-slate-500">
            <i data-lucide="history" class="w-5 h-5"></i>
            <span class="text-[10px]">Historique</span>
        </button>
        <button class="flex flex-col items-center gap-1 text-slate-500">
            <i data-lucide="user" class="w-5 h-5"></i>
            <span class="text-[10px]">Profil</span>
        </button>
    </div>

    <script>
        // --- Configuration ---
        const ASSETS = ['BTCUSDT', 'ETHUSDT'];
        const charts = {};
        const series = {};
        const dataBuffer = {};

        // --- Initialisation des graphiques ---
        function initCharts() {
            ASSETS.forEach(symbol => {
                const container = document.getElementById(`chart-${symbol}`);
                const chart = LightweightCharts.createChart(container, {
                    layout: { backgroundColor: 'transparent', textColor: '#94a3b8' },
                    grid: { vertLines: { color: 'rgba(255,255,255,0.05)' }, horzLines: { color: 'rgba(255,255,255,0.05)' } },
                    priceScale: { borderVisible: false },
                    timeScale: { borderVisible: false, timeVisible: true, secondsVisible: false },
                    handleScroll: false,
                    handleScale: false
                });

                const lineSeries = chart.addAreaSeries({
                    lineColor: symbol === 'BTCUSDT' ? '#f59e0b' : '#6366f1',
                    topColor: symbol === 'BTCUSDT' ? 'rgba(245, 158, 11, 0.4)' : 'rgba(99, 102, 241, 0.4)',
                    bottomColor: 'rgba(0,0,0,0)',
                    lineWidth: 2,
                });

                charts[symbol] = chart;
                series[symbol] = lineSeries;
                dataBuffer[symbol] = [];
            });
        }

        // --- Algorithme de Trading Réel (RSI + Tendance) ---
        function calculateRSI(prices, period = 14) {
            if (prices.length < period + 1) return 50;
            let gains = 0, losses = 0;
            for (let i = 1; i <= period; i++) {
                let diff = prices[prices.length - i] - prices[prices.length - i - 1];
                if (diff >= 0) gains += diff; else losses -= diff;
            }
            let rs = (gains / period) / (losses / period || 1);
            return 100 - (100 / (1 + rs));
        }

        function analyzeSignal(symbol, price) {
            dataBuffer[symbol].push(price);
            if (dataBuffer[symbol].length > 50) dataBuffer[symbol].shift();

            const rsi = calculateRSI(dataBuffer[symbol]);
            document.getElementById(`rsi-${symbol}`).textContent = rsi.toFixed(2);

            const signalText = document.getElementById(`signal-text-${symbol}`);
            const actionContainer = document.getElementById(`action-${symbol}`);
            const actionLabel = document.getElementById(`action-label-${symbol}`);
            const tpSlLabel = document.getElementById(`tp-sl-BTCUSDT`); // Demo TP/SL

            // Logique de signal simple mais réelle
            if (rsi < 30) {
                signalText.textContent = "Zone d'Achat";
                signalText.className = "text-sm font-bold uppercase signal-buy";
                showAction(symbol, 'ACHETER', 'bg-emerald-500/20 border-emerald-500 text-emerald-400');
            } else if (rsi > 70) {
                signalText.textContent = "Zone de Vente";
                signalText.className = "text-sm font-bold uppercase signal-sell";
                showAction(symbol, 'VENDRE', 'bg-rose-500/20 border-rose-500 text-rose-400');
            } else if (rsi > 45 && rsi < 55) {
                signalText.textContent = "Neutre (Fermer?)";
                signalText.className = "text-sm font-bold uppercase text-slate-500";
                actionContainer.classList.add('hidden');
            } else {
                signalText.textContent = "Observation";
                signalText.className = "text-sm font-bold uppercase text-slate-400";
            }
        }

        function showAction(symbol, type, classes) {
            const actionContainer = document.getElementById(`action-${symbol}`);
            const actionLabel = document.getElementById(`action-label-${symbol}`);
            if (!actionContainer) return;

            actionContainer.className = `mt-4 p-3 rounded-xl border flex items-center justify-between animate-bounce ${classes}`;
            actionLabel.textContent = `OUVRIR POSITION : ${type}`;
            actionContainer.classList.remove('hidden');
        }

        // --- WebSocket (Binance Free Public API) ---
        function startStreams() {
            const socket = new WebSocket('wss://stream.binance.com:9443/ws/btcusdt@ticker/ethusdt@ticker');
            
            socket.onmessage = (event) => {
                const data = JSON.parse(event.data);
                const symbol = data.s;
                const price = parseFloat(data.c);
                const change = parseFloat(data.P);

                // Update UI Price
                const priceEl = document.getElementById(`price-${symbol}`);
                const changeEl = document.getElementById(`change-${symbol}`);
                
                if (priceEl) {
                    const lastPrice = parseFloat(priceEl.textContent) || 0;
                    priceEl.textContent = price.toLocaleString(undefined, { minimumFractionDigits: 2 });
                    priceEl.style.color = price >= lastPrice ? '#10b981' : '#ef4444';
                    
                    changeEl.textContent = `${change > 0 ? '+' : ''}${change}%`;
                    changeEl.className = `text-xs ${change >= 0 ? 'text-green-500' : 'text-red-500'}`;
                }

                // Update Chart
                series[symbol].update({
                    time: Math.floor(Date.now() / 1000),
                    value: price
                });

                // Algorithm analysis
                analyzeSignal(symbol, price);
            };

            socket.onerror = () => {
                document.getElementById('connection-status').textContent = "Erreur Flux";
                document.getElementById('connection-status').className = "text-red-400 flex items-center gap-1.5 text-xs";
            };
        }

        // --- UI Utilities ---
        function toggleSubscription() {
            const modal = document.getElementById('paywall');
            modal.classList.toggle('hidden');
        }

        window.addEventListener('resize', () => {
            ASSETS.forEach(symbol => {
                const container = document.getElementById(`chart-${symbol}`);
                charts[symbol].resize(container.clientWidth, 200);
            });
        });

        // --- Init ---
        window.onload = () => {
            lucide.createIcons();
            initCharts();
            startStreams();
            
            // Simulation de données historiques initiales (Binance API Rest optionnelle)
            // Pour l'exemple, on laisse le flux se charger en direct
        };
    </script>
</body>
</html>

